---
import PostItem from "../components/PostItem.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
import { getAllPosts } from "../utils/getPost";

const sortedPosts = await getAllPosts(Astro.url.origin);
---

<BaseLayout>
  <div class="w-full max-w-1200px mx-auto px-4 md:px-8">
    <h2 class="font-mono">$ ls -la logs/</h2>
    <p class="font-mono">
      total {sortedPosts.length} posts
    </p>
    <div class="grid grid-cols-minmax-250px gap-x-4 gap-y-8">
      {sortedPosts.map((post) => <PostItem post={post} />)}
    </div>
  </div>
</BaseLayout>
